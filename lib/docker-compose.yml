version: '3.7'

services:
  core:
    image: dashpay/dashd:${CORE_VERSION:-latest}
    restart: always
    ports:
      - 20002:20002 # RPC
      - ${CORE_P2P_PORT:?err}:${CORE_P2P_PORT:?err} # P2P
    volumes:
      - ../configs/${PRESET:?err}/core/dashd.conf:/dash/.dashcore/dash.conf
      - ../data/${PRESET:?err}/core:/dash/data
    command:
      - dashd
      - -conf=/dash/.dashcore/dash.conf
      - -datadir=/dash/data
      - -port=${CORE_P2P_PORT:?err}
      - -externalip=${CORE_EXTERNAL_IP:?err}
      - --disablewallet=0
